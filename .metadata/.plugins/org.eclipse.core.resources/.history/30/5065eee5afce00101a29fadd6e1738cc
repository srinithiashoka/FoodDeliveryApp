<%@ page import="java.sql.*" %>
<%@ page import="com.fooddelivery.util.DBConnection" %>
<html>
<head>
    <title>Food Delivery Test</title>
</head>
<body>
<h2>Users List</h2>
<table border="1">
    <tr>
        <th>User ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Role</th>
    </tr>

<%
    Connection conn = DBConnection.getConnection();
    if (conn != null) {
        try {
            Statement stmt = conn.createStatement();
            ResultSet rs = stmt.executeQuery("SELECT * FROM users");
            while (rs.next()) {
%>
    <tr>
        <td><%= rs.getInt("userId") %></td>
        <td><%= rs.getString("username") %></td>
        <td><%= rs.getString("email") %></td>
        <td><%= rs.getString("phone") %></td>
        <td><%= rs.getString("role") %></td>
    </tr>
<%
            }
        } catch (SQLException e) {
            out.println("Error: " + e.getMessage());
        }
    } else {
        out.println("Failed to connect to database.");
    }
%>
</table>
</body>
</html>
